#!/bin/bash

# Post-push hook to automatically pull after pushing
# This helps handle version conflicts from GitHub CI

echo "ðŸ”„ Auto-pulling after push to handle potential version conflicts..."

# Wait a moment for GitHub CI to potentially update the version
sleep 5

# Check if there are any remote changes
git fetch origin

if git rev-list HEAD...origin/main --count | grep -q "^0$"; then
    echo "âœ… No remote changes detected"
else
    echo "ðŸ”„ Remote changes detected, pulling..."
    git pull --no-rebase --no-edit
    echo "âœ… Auto-pull completed"
fi 